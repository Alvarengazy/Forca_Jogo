:root {
  --bg: #0d0f1a;
  --bg-alt:#161b2e;
  --text: #e8f1ff;
  --accent: linear-gradient(135deg,#6366f1,#8b5cf6,#ec4899);
  --accent-solid:#6366f1;
  --danger:#ef4444;
  --ok:#10b981;
  --radius: 1.1rem;
  --focus: 2px solid #f472b6;
  --font-stack: 'Inter', system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;
  --body-bg: linear-gradient(120deg,#0d0f1a,#1b1f33,#121524,#272c46);
  --panel-bg: linear-gradient(160deg,#1e253dfa,#121623f0);
  --panel-border: #2a314c;
  --tile-bg: linear-gradient(160deg,#202a44,#131a2b);
  --tile-border:#2c3956;
  --key-bg: linear-gradient(155deg,#1f263c,#141a27);
  --ghost-bg: rgba(255,255,255,.07);
  --ghost-bg-hover: rgba(255,255,255,.12);
  --result-text-color:#ffffff;
  --letter-color:#e8f1ff;
  --letter-revealed-color:#ffffff;
}
[data-theme="light"] {
  --bg: #f5f8fc;
  --bg-alt:#ffffff;
  --text:#111827;
  --accent: linear-gradient(135deg,#6366f1,#3b82f6,#06b6d4);
  --accent-solid:#3b82f6;
  --body-bg: linear-gradient(120deg,#ffffff,#f5f8fc,#eef2f7,#ffffff);
  --panel-bg: linear-gradient(150deg,#ffffffcc,#f2f6fbcc);
  --panel-border:#d8e2ee;
  --tile-bg: linear-gradient(150deg,#f4f7fb,#e5ebf4);
  --tile-border:#cfd7e5;
  --key-bg: linear-gradient(155deg,#ffffff,#e9eff6);
  --ghost-bg: rgba(17,24,39,.08);
  --ghost-bg-hover: rgba(17,24,39,.14);
  --result-text-color:#111827;
  --letter-color:#111827;
  --letter-revealed-color:#111827;
}
* { box-sizing: border-box; }
html,body { height:100%; }
body {
  margin:0; font-family: var(--font-stack);
  background: var(--body-bg); /* fallback */
  background-size:400% 400%;
  animation: gradientShift 18s ease-in-out infinite;
  color:var(--text);
  -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
  overflow-x:hidden;
}
@keyframes gradientShift { 0%{ background-position:0% 50%; } 50%{ background-position:100% 50%; } 100%{ background-position:0% 50%; } }
body::before { /* subtle grid */
  content:""; position:fixed; inset:0; pointer-events:none; background:
    repeating-linear-gradient(90deg,rgba(255,255,255,.04) 0 1px,transparent 1px 80px),
    repeating-linear-gradient(0deg,rgba(255,255,255,.03) 0 1px,transparent 1px 80px);
  mix-blend-mode: overlay; opacity:.4; z-index:-1;
}
canvas#bgParticles { position:fixed; inset:0; width:100%; height:100%; z-index:-2; filter:blur(.6px) brightness(1.15); }
.skip-link { position:fixed; left:1rem; top:-4rem; padding:.6rem 1rem; background:#111; color:#fff; border-radius:.5rem; text-decoration:none; transition:.3s; z-index:1000; }
.skip-link:focus { top:1rem; }
.top-bar { display:flex; justify-content:space-between; align-items:center; padding:.75rem 1.25rem; backdrop-filter:blur(18px) saturate(160%); background:linear-gradient(135deg,rgba(40,47,85,.72),rgba(24,28,49,.72)); box-shadow:0 8px 28px -10px #000c,0 0 0 1px #4f46e51f; position:sticky; top:0; z-index:50; border-bottom:1px solid #6366f133; }
.logo { font-weight:700; font-size:1.25rem; letter-spacing:.5px; background:var(--accent); -webkit-background-clip:text; background-clip:text; color:transparent; }
.top-actions button { margin-left:.35rem; }
.layout { max-width:1100px; margin:0 auto; padding:2rem clamp(1rem,4vw,3rem) 4rem; min-height:calc(100dvh - 90px); }
.screen { animation: fade .5s ease; }
@keyframes fade { from { opacity:0; transform:translateY(6px);} }
.hero-title { text-align:center; margin:0 0 2.2rem; font-size:clamp(2.6rem,7vw,4.8rem); font-weight:800; letter-spacing:1px; line-height:1.1; position:relative; background:linear-gradient(90deg,#fff,#dbeafe,#fff); -webkit-background-clip:text; background-clip:text; color:transparent; filter:drop-shadow(0 10px 22px #0006); animation: heroWave 6s ease-in-out infinite, neonGlow 4.5s linear infinite; }
.hero-title .spark { display:inline-block; animation: sparkPulse 1.8s ease-in-out infinite, sparkHue 6s linear infinite; filter:drop-shadow(0 0 6px #fbbf24) drop-shadow(0 0 16px #f59e0b); }
.hero-title .hero-emoji { display:inline-block; margin-left:.35rem; filter:drop-shadow(0 0 4px #6366f1bb) drop-shadow(0 0 12px #8b5cf6aa); animation: sparkHue 8s linear infinite; }
@keyframes neonGlow { 0%,100% { text-shadow:0 0 2px #fff,0 0 6px #6366f1,0 0 14px #8b5cf6,0 0 28px #ec4899; } 25% { text-shadow:0 0 2px #fff,0 0 6px #3b82f6,0 0 14px #6366f1,0 0 28px #8b5cf6; } 50% { text-shadow:0 0 2px #fff,0 0 6px #10b981,0 0 14px #06b6d4,0 0 28px #3b82f6; } 75% { text-shadow:0 0 2px #fff,0 0 6px #ec4899,0 0 14px #f472b6,0 0 28px #6366f1; } }
@keyframes sparkHue { 0% { filter:drop-shadow(0 0 4px #6366f1) drop-shadow(0 0 12px #8b5cf6); } 50% { filter:drop-shadow(0 0 4px #ec4899) drop-shadow(0 0 14px #f472b6); } 100% { filter:drop-shadow(0 0 4px #6366f1) drop-shadow(0 0 12px #8b5cf6); } }

@keyframes heroWave { 0%,100% { transform:translateY(0); } 50% { transform:translateY(-6px); } }
@keyframes sparkPulse { 0%,100% { transform:rotate(-12deg) scale(1); } 50% { transform:rotate(12deg) scale(1.3); } }
.howto { margin:1.5rem 0 2rem; background:var(--panel-bg); padding:1rem 1.25rem; border:1px solid var(--panel-border); border-radius:var(--radius); backdrop-filter:blur(12px); position:relative; overflow:hidden; }
.howto::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 80% 20%,#6366f122,transparent 60%); pointer-events:none; }
.howto[open] summary { margin-bottom:.5rem; }
.summary { cursor:pointer; }
.categories fieldset { border:none; padding:0; margin:0; }
.category-list { display:grid; gap:1rem; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); }
.cat-item { position:relative; display:block; cursor:pointer; }
.cat-item input { position:absolute; inset:0; opacity:0; }
.cat-item .label { display:flex; align-items:center; justify-content:center; font-weight:600; border:2px solid var(--tile-border); padding:1.1rem .6rem; border-radius:1rem; background:var(--panel-bg); box-shadow:0 10px 28px -14px #000a,0 4px 12px -4px #000a; transition:.5s cubic-bezier(.19,1,.22,1); text-align:center; min-height:70px; position:relative; overflow:hidden; }
.cat-item .label::after { content:""; position:absolute; inset:0; background:linear-gradient(130deg,transparent,rgba(255,255,255,.08) 35%,transparent 70%); transform:translateX(-60%); transition:1.2s; }
.cat-item:hover .label::after { transform:translateX(0%); }
.cat-item input:focus + .label { outline:var(--focus); outline-offset:2px; }
.cat-item input:checked + .label { border-color:#6366f1; background:var(--accent); color:#fff; transform:translateY(-6px) scale(1.06); box-shadow:0 18px 40px -18px #000d,0 0 0 1px #6366f199 inset,0 0 0 4px #6366f122; }
.actions { margin-top:2rem; display:flex; justify-content:center; }
button { font:inherit; cursor:pointer; border:none; border-radius:.9rem; padding:.85rem 1.45rem; background:var(--accent); color:#fff; font-weight:600; letter-spacing:.5px; display:inline-flex; align-items:center; gap:.4rem; position:relative; overflow:hidden; isolation:isolate; }
button::before { content:""; position:absolute; inset:0; background:linear-gradient(140deg,rgba(255,255,255,.22),rgba(255,255,255,.05)); mix-blend-mode:overlay; opacity:.0; transition:.5s; }
button:hover::before { opacity:.55; }
button::after { content:""; position:absolute; width:130%; height:130%; top:-15%; left:-15%; background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.5),transparent 60%); opacity:0; transform:scale(.5) rotate(25deg); transition:.6s cubic-bezier(.19,1,.22,1); }
button:hover::after { opacity:.18; transform:scale(1) rotate(0deg); }
button:disabled { opacity:.35; cursor:not-allowed; }
button.primary { background:var(--accent); }
button.ghost { background:var(--ghost-bg); color:var(--text); }
button.ghost:hover { background:var(--ghost-bg-hover); }
button:not(:disabled):hover { filter:brightness(1.08); }
button:not(:disabled):active { transform:translateY(2px); }
button:focus-visible { outline:var(--focus); outline-offset:2px; }
.game-header { display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between; gap:1rem; position:relative; }
.game-category { background:var(--accent); -webkit-background-clip:text; background-clip:text; color:transparent; font-size:clamp(1.5rem,5vw,2.4rem); margin:0; }
.status-bar { display:flex; align-items:center; gap:1rem; }
.health { display:flex; gap:.35rem; }
.health span { width:26px; height:26px; position:relative; display:inline-flex; align-items:center; justify-content:center; font-size:1.05rem; filter:drop-shadow(0 4px 6px #0008); transition:.4s; }
.health span::before { content:"❤️"; filter:grayscale(.4) brightness(.8); opacity:.9; transition:.45s; }
.health span.lost { transform:scale(.55) rotate(-20deg); filter:brightness(.4) saturate(.3) blur(.5px); }
.health span.lost::before { filter:grayscale(1) brightness(.4); opacity:.3; }
.progress { width:160px; height:10px; background:#1a2133; border-radius:99px; position:relative; overflow:hidden; }
.progress #progressBar { position:absolute; inset:0; background:var(--accent); width:0%; transition:.4s; }
.word { display:flex; gap:.6rem; justify-content:center; flex-wrap:wrap; margin:3rem auto 1.5rem; }
.word .letter { width:50px; height:64px; border-radius:1.1rem; background:var(--tile-bg); display:flex; align-items:center; justify-content:center; font-size:2rem; font-weight:600; box-shadow:0 18px 32px -16px #000a, 0 0 0 1px var(--tile-border); position:relative; perspective:600px; transform-style:preserve-3d; overflow:hidden; color:var(--letter-color); }
.word .letter::after { content:"_"; position:relative; opacity:.5; }
.word .letter.revealed { background:var(--accent); color:var(--letter-revealed-color); animation: flip .6s cubic-bezier(.55,.06,.34,1.62); }
@keyframes flip { 0%{ transform:rotateX(90deg) scale(.5); opacity:0;} 55%{ transform:rotateX(-20deg) scale(1.05);} 100%{ transform:rotateX(0) scale(1); opacity:1;} }
.keyboard { display:grid; grid-template-columns:repeat(auto-fit,minmax(42px,1fr)); gap:.55rem; max-width:680px; margin:0 auto 3rem; perspective:900px; }
.key { background:var(--key-bg); border-radius:.85rem; padding:.95rem .2rem; text-align:center; font-weight:600; position:relative; box-shadow:0 6px 16px -6px #000d,0 0 0 1px #2c3450; user-select:none; transition:.5s cubic-bezier(.19,1,.22,1); transform:translateZ(0); color:var(--letter-color); }
.key:hover { transform:translateY(-4px) translateZ(30px); box-shadow:0 20px 32px -16px #000c,0 0 0 1px #475569; }
.key[data-state="used"] { pointer-events:none; filter:saturate(.2) brightness(.7); }
.key.correct { background:linear-gradient(135deg,#2563eb,#10b981); color:#fff; }
.key.wrong { background:linear-gradient(135deg,#5b2333,#991b1b); color:#fff; animation:shake .45s; }
@keyframes shake { 20%,60% { transform:translateX(-4px);} 40%,80% { transform:translateX(4px);} }
footer.footer { text-align:center; padding:2rem 1rem 4rem; opacity:.6; font-size:.9rem; position:relative; }
footer.footer::before { content:""; position:absolute; top:0; left:50%; width:60%; height:1px; background:linear-gradient(90deg,transparent,#6366f155,transparent); transform:translateX(-50%); }


dialog { border:none; padding:0; background:transparent; }
dialog::backdrop { backdrop-filter:blur(10px) brightness(.5); background:rgba(0,0,0,.6); }
.dialog-inner { background:linear-gradient(135deg,#212a43,#131b2c); padding:2rem clamp(1rem,3vw,2.5rem); border-radius:1.5rem; box-shadow:0 18px 40px -10px #000c; width:min(90vw,460px); position:relative; }
.dialog-inner h3 { margin-top:0; font-size:1.6rem; }
.dialog-actions { display:flex; flex-wrap:wrap; gap:.75rem; padding:0; margin:1.4rem 0 0; list-style:none; }
.dialog-actions button { flex:1 1 auto; }


#dialogResult h3,#dialogResult p { color:var(--result-text-color) !important; }


.sr-only { position:absolute; width:1px; height:1px; margin:-1px; padding:0; overflow:hidden; clip:rect(0 0 0 0); border:0; }


@media (max-width: 700px) {
  .layout { padding:1.5rem 1rem 3rem; }
  .word .letter { width:42px; height:58px; }
}


.pulse-particle { position:fixed; width:8px; height:8px; background:var(--pulse-color,#ffffff); border-radius:50%; pointer-events:none; mix-blend-mode:screen; animation:pulseOut .8s ease-out forwards; z-index:999; }
@keyframes pulseOut { 0%{ transform:translate(-50%,-50%) scale(.3); opacity:1;} 80%{ opacity:.9;} 100%{ transform:translate(-50%,-50%) scale(4); opacity:0;} }
